<div class="container">
  <div class="p-3 rounded layoutContainer">
    <form [formGroup]="checkoutForm" class="">
      @for (item of items; track $index) {
      <div class="form-floating mb-2">
        <input
          type="text"
          class="form-control"
          [placeholder]="item.placeholder"
          [formControlName]="item.name"
        />
        <label class="layout-label" for="floatingInput">{{ item.label }}</label>
      </div>
      }
      <div class="form-check form-switch mb-2">
        <input
          class="form-check-input"
          type="checkbox"
          role="switch"
          id="flexSwitchCheckDefault"
          (change)="onCheckboxChangeRegion($event)"
        />
        <label
          style="color: white"
          class="form-check-label"
          for="flexSwitchCheckDefault"
          >Solo piste nella mia regione</label
        >
      </div>

      <div class="mb-2">
        <div class="form-floating">
          <select
            #selectRegione
            class="form-select form-select-sm"
            style="display: none"
            formControlName="regione"
          >
            @for (option of options; track $index) {
            <option [value]="option.value">{{ option.value }}</option>
            }
          </select>
          <label for="selectRegione" #labelRegione style="display: none"
            >Seleziona una regione</label
          >
        </div>
      </div>
      <div class="form-check">
        <input
          #checkTerms
          class="form-check-input"
          type="checkbox"
          id="flexCheckIndeterminate"
          (change)="onCheckboxChangeTerms($event)"
        />
        <label
          class="form-check-label"
          for="flexCheckIndeterminate"
          style="color: white"
        >
          Accetto i <u>Termini di servizio</u>, le <u>Condizioni generali</u> e
          <u>Condizioni</u> e <u>Informativa sulla privacy</u>.
        </label>
        <label
          #labelCampoObb
          for="flexCheckIndeterminate"
          class="layout-label-obb"
        >
          <strong>Campo obbligatorio</strong>
        </label>
      </div>
      <button
        class="layoutButton btn btn-primary mt-2"
        (click)="create()"
        type="button"
        #liveToastBtn
        [disabled]="!checkoutForm.valid"
      >
        ISCRIVIMI!
      </button>
      <app-modal [idModal]="idModal"></app-modal>
      <app-toast [idToast]="idInputToast"></app-toast>
    </form>
  </div>
</div>
